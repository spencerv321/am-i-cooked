@import 'tailwindcss';

@theme {
  --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
  --font-display: 'Inter', system-ui, sans-serif;

  --color-dark: #0a0a0a;
  --color-dark-card: #141414;
  --color-dark-border: #2a2a2a;
  --color-danger: #ef4444;
  --color-warning: #f59e0b;
  --color-safe: #22c55e;

  --animate-fade-in: fade-in 0.5s ease-out forwards;
  --animate-slide-up: slide-up 0.6s ease-out forwards;
  --animate-pulse-glow: pulse-glow 2s ease-in-out infinite;
  --animate-slide-in-bottom: slide-in-bottom 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  --animate-slide-out-bottom: slide-out-bottom 0.3s ease-in forwards;
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse-glow {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

@keyframes cooking {
  0%, 100% { transform: rotate(-8deg); }
  50% { transform: rotate(8deg); }
}

@keyframes fill-bar {
  from { width: 0%; }
}

.score-glow {
  text-shadow:
    0 0 20px var(--score-color),
    0 0 40px var(--score-color),
    0 0 80px var(--score-color);
}

.progress-glow {
  box-shadow: 0 0 12px var(--score-color);
}

.cooking-animation {
  animation: cooking 0.5s ease-in-out infinite;
}

.progress-bar-animated {
  animation: fill-bar 2s ease-out forwards;
}

/* Score celebration effects */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-3px); }
  20%, 40%, 60%, 80% { transform: translateX(3px); }
}

@keyframes frost-pulse {
  0%, 100% {
    text-shadow:
      0 0 20px var(--score-color),
      0 0 40px rgba(147, 197, 253, 0.5),
      0 0 60px rgba(147, 197, 253, 0.3);
    filter: brightness(1.1);
  }
  50% {
    text-shadow:
      0 0 30px var(--score-color),
      0 0 60px rgba(147, 197, 253, 0.7),
      0 0 90px rgba(147, 197, 253, 0.4);
    filter: brightness(1.3);
  }
}

@keyframes slide-in-bottom {
  from {
    opacity: 0;
    transform: translateY(100%);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slide-out-bottom {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(100%);
  }
}

.score-shake {
  animation: shake 0.6s ease-in-out;
}

.score-frost {
  animation: frost-pulse 2s ease-in-out infinite;
}

/* Reduced motion — disable slide animations for accessibility */
@media (prefers-reduced-motion: reduce) {
  .animate-slide-in-bottom,
  .animate-slide-out-bottom {
    animation: none !important;
  }
  .animate-slide-in-bottom {
    opacity: 1;
    transform: none;
  }
  .animate-slide-out-bottom {
    opacity: 0;
  }
}

/* Mobile optimization — prevent horizontal overflow */
html, body {
  overflow-x: hidden;
  -webkit-text-size-adjust: 100%;
}

/* Reduce score glow on mobile (too intense on small screens) */
@media (max-width: 639px) {
  .score-glow {
    text-shadow:
      0 0 12px var(--score-color),
      0 0 24px var(--score-color);
  }
}
